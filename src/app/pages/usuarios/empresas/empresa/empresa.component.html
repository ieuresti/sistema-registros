<div class="empresa-container">
    <section>
        <mat-card>
            <mat-card-title>{{ isEditMode ? 'Editar empresa' : 'Crear empresa' }}</mat-card-title>

            <mat-card-content>
                <form [formGroup]="empresaForm" (ngSubmit)="onSubmit()" class="empresa-form">
                    <div class="row">
                        <!-- Nombre empresa -->
                        <mat-form-field appearance="outline" class="full">
                            <mat-label>Nombre empresa</mat-label>
                            <input matInput formControlName="nombre" />
                            <mat-error *ngIf="empresaForm.get('nombre')?.hasError('required')">Nombre es requerido</mat-error>
                        </mat-form-field>
                    </div>

                    <div class="row two-cols">
                        <!-- Dirección -->
                        <mat-form-field appearance="outline">
                            <mat-label>Dirección</mat-label>
                            <input matInput formControlName="direccion" />
                        </mat-form-field>

                        <!-- Correo -->
                        <mat-form-field appearance="outline">
                            <mat-label>Correo</mat-label>
                            <input matInput formControlName="correo" />
                            <mat-error *ngIf="empresaForm.get('correo')?.invalid">
                                <span *ngIf="empresaForm.get('correo')?.hasError('required')">Correo es requerido</span>
                                <span *ngIf="empresaForm.get('correo')?.hasError('email')">Correo inválido</span>
                            </mat-error>
                        </mat-form-field>
                    </div>

                    <div class="row two-cols">
                        <!-- Teléfono -->
                        <mat-form-field appearance="outline">
                            <mat-label>Teléfono</mat-label>
                            <input matInput formControlName="telefono" />
                            <mat-error *ngIf="empresaForm.get('telefono')?.invalid">Teléfono inválido</mat-error>
                        </mat-form-field>

                        <!-- Área empresa -->
                        <mat-form-field appearance="outline">
                            <mat-label>Área empresa</mat-label>
                            <mat-select formControlName="areasEmpresa">
                                <mat-option *ngFor="let area of areasOptions" [value]="area">
                                    {{ area }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="row two-cols">
                        <!-- Usuario master -->
                        <mat-form-field appearance="outline">
                            <mat-label>Usuario master</mat-label>
                            <input matInput formControlName="usuarioMaster" />
                            <mat-error *ngIf="empresaForm.get('usuarioMaster')?.hasError('required')">Usuario master es requerido</mat-error>
                        </mat-form-field>

                        <!-- Contraseña -->
                        <mat-form-field appearance="outline">
                            <mat-label>Contraseña</mat-label>
                            <input matInput type="password" formControlName="password" autocomplete="new-password" />
                            <mat-error *ngIf="empresaForm.get('password')?.invalid">
                                <span *ngIf="empresaForm.get('password')?.hasError('required')">Contraseña es requerida</span>
                                <span *ngIf="empresaForm.get('password')?.hasError('minlength')">Mínimo 6 caracteres</span>
                            </mat-error>
                        </mat-form-field>
                    </div>

                    <div class="actions">
                        <button mat-stroked-button type="button" (click)="onCancel()">Cancelar</button>
                        <button mat-flat-button color="primary" type="submit" [disabled]="empresaForm.invalid">
                            {{ isEditMode ? 'Guardar' : 'Crear' }}
                        </button>
                    </div>

                </form>
            </mat-card-content>
        </mat-card>
    </section>
</div>