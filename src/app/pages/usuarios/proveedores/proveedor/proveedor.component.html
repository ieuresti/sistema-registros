<div class="proveedor-container">
    <section>
        <mat-card>
            <mat-card-title>{{ isEditMode ? 'Editar proveedor' : 'Crear proveedor' }}</mat-card-title>

            <mat-card-content>
                <form [formGroup]="proveedorForm" (ngSubmit)="onSubmit()" class="proveedor-form">
                    <div class="row">
                        <!-- Nombre empresa -->
                        <mat-form-field appearance="outline" class="full">
                            <mat-label>Nombre empresa</mat-label>
                            <input matInput formControlName="nombreEmpresa" />
                            <mat-error *ngIf="proveedorForm.get('nombreEmpresa')?.hasError('required')">Nombre empresa es requerido</mat-error>
                        </mat-form-field>
                    </div>

                    <div class="row two-cols">
                        <!-- Dirección -->
                        <mat-form-field appearance="outline">
                            <mat-label>Dirección</mat-label>
                            <input matInput formControlName="direccion" />
                        </mat-form-field>

                        <!-- Correo proveedor -->
                        <mat-form-field appearance="outline">
                            <mat-label>Correo proveedor</mat-label>
                            <input matInput formControlName="correoProveedor" />
                            <mat-error *ngIf="proveedorForm.get('correoProveedor')?.invalid">
                                <span *ngIf="proveedorForm.get('correoProveedor')?.hasError('required')">Correo es requerido</span>
                                <span *ngIf="proveedorForm.get('correoProveedor')?.hasError('email')">Correo inválido</span>
                            </mat-error>
                        </mat-form-field>
                    </div>

                    <div class="row two-cols">
                        <!-- Nombre usuario master -->
                        <mat-form-field appearance="outline">
                            <mat-label>Nombre usuario master</mat-label>
                            <input matInput formControlName="nombreUsuarioMaster" />
                            <mat-error *ngIf="proveedorForm.get('nombreUsuarioMaster')?.hasError('required')">Nombre usuario master requerido</mat-error>
                        </mat-form-field>

                        <!-- Puesto usuario master -->
                        <mat-form-field appearance="outline">
                            <mat-label>Puesto usuario master</mat-label>
                            <mat-select formControlName="puestoUsuarioMaster">
                                <mat-option *ngFor="let puesto of puestosOptions" [value]="puesto">{{ puesto }}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="row two-cols">
                        <!-- Teléfono -->
                        <mat-form-field appearance="outline">
                            <mat-label>Teléfono</mat-label>
                            <input matInput formControlName="telefono" />
                            <mat-error *ngIf="proveedorForm.get('telefono')?.hasError('pattern')">Teléfono inválido</mat-error>
                        </mat-form-field>

                        <!-- Usuario -->
                        <mat-form-field appearance="outline">
                            <mat-label>Usuario</mat-label>
                            <input matInput formControlName="usuario" />
                            <mat-error *ngIf="proveedorForm.get('usuario')?.hasError('required')">Usuario requerido</mat-error>
                        </mat-form-field>
                    </div>

                    <div class="row two-cols">
                        <!-- Contraseña -->
                        <mat-form-field appearance="outline">
                            <mat-label>Contraseña</mat-label>
                            <input matInput type="password" formControlName="password" autocomplete="new-password" />
                            <mat-error *ngIf="proveedorForm.get('password')?.invalid">
                                <span *ngIf="proveedorForm.get('password')?.hasError('required')">Contraseña requerida</span>
                                <span *ngIf="proveedorForm.get('password')?.hasError('minlength')">Mínimo 6 caracteres</span>
                            </mat-error>
                        </mat-form-field>

                        <!-- Correo cliente -->
                        <mat-form-field appearance="outline">
                            <mat-label>Correo del cliente</mat-label>
                            <input matInput formControlName="correoCliente" />
                            <mat-error *ngIf="proveedorForm.get('correoCliente')?.hasError('email')">Correo cliente inválido</mat-error>
                        </mat-form-field>
                    </div>

                    <div class="actions">
                        <button mat-stroked-button type="button" (click)="onCancel()">Cancelar</button>
                        <button mat-flat-button color="primary" type="submit" [disabled]="proveedorForm.invalid">{{ isEditMode ? 'Guardar' : 'Crear' }}</button>
                    </div>

                </form>
            </mat-card-content>
        </mat-card>
    </section>
</div>